# E-University Network - DHCP Server Configuration
# =================================================
# dnsmasq configured to handle DHCP relay requests from Edge routers
# ip helper-address on Edge routers points to this server (192.168.68.69)

# Logging
log-dhcp
log-queries

# Don't read /etc/resolv.conf or /etc/hosts
no-resolv
no-hosts

# DNS - forward to external DNS
server=8.8.8.8
server=8.8.4.4

# DHCP common options
dhcp-option=option:dns-server,8.8.8.8,8.8.4.4
dhcp-option=option:domain-name,euniv.lab
dhcp-authoritative

# =============================================================================
# MAIN CAMPUS (10.1.x.0/24)
# =============================================================================

# VLAN 10 - STAFF (Main)
dhcp-range=set:main-staff,10.1.10.100,10.1.10.200,255.255.255.0,12h
dhcp-option=tag:main-staff,option:router,10.1.10.1
dhcp-option=tag:main-staff,option:domain-search,staff.main.euniv.lab

# VLAN 20 - RESEARCH (Main)
dhcp-range=set:main-research,10.1.20.100,10.1.20.200,255.255.255.0,12h
dhcp-option=tag:main-research,option:router,10.1.20.1
dhcp-option=tag:main-research,option:domain-search,research.main.euniv.lab

# VLAN 40 - GUEST (Main)
dhcp-range=set:main-guest,10.1.40.100,10.1.40.200,255.255.255.0,2h
dhcp-option=tag:main-guest,option:router,10.1.40.1
dhcp-option=tag:main-guest,option:domain-search,guest.main.euniv.lab

# =============================================================================
# MEDICAL CAMPUS (10.2.x.0/24)
# =============================================================================

# VLAN 10 - STAFF (Medical)
dhcp-range=set:med-staff,10.2.10.100,10.2.10.200,255.255.255.0,12h
dhcp-option=tag:med-staff,option:router,10.2.10.1
dhcp-option=tag:med-staff,option:domain-search,staff.medical.euniv.lab

# VLAN 20 - RESEARCH (Medical)
dhcp-range=set:med-research,10.2.20.100,10.2.20.200,255.255.255.0,12h
dhcp-option=tag:med-research,option:router,10.2.20.1
dhcp-option=tag:med-research,option:domain-search,research.medical.euniv.lab

# VLAN 30 - MEDICAL (Medical Campus Only)
dhcp-range=set:med-medical,10.2.30.100,10.2.30.200,255.255.255.0,12h
dhcp-option=tag:med-medical,option:router,10.2.30.1
dhcp-option=tag:med-medical,option:domain-search,medical.euniv.lab

# VLAN 40 - GUEST (Medical)
dhcp-range=set:med-guest,10.2.40.100,10.2.40.200,255.255.255.0,2h
dhcp-option=tag:med-guest,option:router,10.2.40.1
dhcp-option=tag:med-guest,option:domain-search,guest.medical.euniv.lab

# =============================================================================
# RESEARCH CAMPUS (10.3.x.0/24)
# =============================================================================

# VLAN 10 - STAFF (Research)
dhcp-range=set:res-staff,10.3.10.100,10.3.10.200,255.255.255.0,12h
dhcp-option=tag:res-staff,option:router,10.3.10.1
dhcp-option=tag:res-staff,option:domain-search,staff.research.euniv.lab

# VLAN 20 - RESEARCH (Research)
dhcp-range=set:res-research,10.3.20.100,10.3.20.200,255.255.255.0,12h
dhcp-option=tag:res-research,option:router,10.3.20.1
dhcp-option=tag:res-research,option:domain-search,research.research.euniv.lab

# VLAN 40 - GUEST (Research)
dhcp-range=set:res-guest,10.3.40.100,10.3.40.200,255.255.255.0,2h
dhcp-option=tag:res-guest,option:router,10.3.40.1
dhcp-option=tag:res-guest,option:domain-search,guest.research.euniv.lab
